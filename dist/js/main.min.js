function showImage(e){const t=e.parentElement,n=t.querySelector("i");let a=t.querySelector("img");if(a&&a.remove(),e.files&&e.files[0]){a=document.createElement("img");const o=new FileReader;o.onload=function(e){a.src=e.target.result,a.style.display="block",a.style.maxWidth="100%",a.style.height="auto",n.style.display="none",t.appendChild(a)},o.readAsDataURL(e.files[0])}else n.style.display="block"}function generarCodigo(){var e=document.getElementById("nombre").value,t=document.getElementById("ubicacion").value,n=(document.getElementById("id_categoria").value,""),a=e.trim().split(" "),o=t.trim().split(" ");a.length>=2?n+=a[0].substring(0,2).toUpperCase()+a[1].substring(0,2).toUpperCase():1===a.length&&a[0].length>=4?n+=a[0].substring(0,4).toUpperCase():n+=a[0].substring(0,2).toUpperCase();o.length>=2?n+=o[0].substring(0,2).toUpperCase()+o[1].substring(0,2).toUpperCase():1===o.length&&o[0].length>=4?n+=o[0].substring(0,4).toUpperCase():n+=o[0].substring(0,2).toUpperCase();n+=Math.floor(100*Math.random()).toString().padStart(2,"0"),document.getElementById("codigo").value=n}function generarCodigoCategoria(){var e=document.getElementById("nombre_categoria").value.trim(),t="CA";if(e){var n=e.split(" ");if(n.length>1)t+=n[0].substring(0,2).toUpperCase()+n[1].substring(0,2).toUpperCase();else t+=e.substring(0,4).toUpperCase()}t.length>6&&(t=t.substring(0,6)),document.getElementById("cod_categoria").value=t}function mostrarFormularioActualizar(e,t,n,a){document.getElementById("id_categoria_act").value=e,document.getElementById("cod_categoria_act").value=t,document.getElementById("nombre_categoria_act").value=n,document.getElementById("descripcion_categoria_act").value=a,document.getElementById("form_registrar").style.display="none",document.getElementById("form_actualizar").style.display="block"}function ocultarFormularioActualizar(){document.getElementById("form_registrar").style.display="block",document.getElementById("form_actualizar").style.display="none"}document.querySelectorAll(".dropzone").forEach((e=>{const t=e.querySelector(".custom-file-input"),n=e.querySelector(".custom-file-label");e.addEventListener("dragover",(t=>{t.preventDefault(),e.classList.add("dragover")})),e.addEventListener("dragleave",(()=>{e.classList.remove("dragover")})),e.addEventListener("drop",(a=>{a.preventDefault(),e.classList.remove("dragover");const o=a.dataTransfer.files;o.length&&(t.files=o,n.textContent=o[0].name,showImage(t))})),t.addEventListener("change",(()=>{t.files.length&&(n.textContent=t.files[0].name,showImage(t))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('.image-upload input[type="file"]').forEach((e=>{e.addEventListener("change",(function(){showImage(e)}))}))})),console.log("Hola amigutos ");